
### Импорты и тестируемость

Чтобы избежать циклических импортов используй такую схему:

- Инфраструктурные зависимости (база, создатель сессий к бд, диспатчер и тд)
  неявно используй только в инфраструктурном слое: роутерах,
  мидлверах и прочем
- В юзкейсы инфраструктурные зависимости передавай как параметры, если
  юзкейс это метод, или через конструктор, если юзкейс - класс

### Middleware

Function-based подход не предусматривает модульности программы.
Нельзя написать функцию-middleware в отдельном модуле и потом как то подключить ее.
Так может только классовый подход, поэтому при написании middleware используй его


### Пользовательские ошибки
Юзер может получить ошибку вида

```bash
В данный момент функционал недоступен. Попробуйте позже или обратитесь к разработчику.
Код ошибки: X
```

### Общие ошибки
**-2** - неопределенная ошибка. Для решения нужно воспроизвести путь юзера, обнаруживший ее,
и просмотреть логи


#### Частные ошибки
**-1** - Пользователь уже зарегистрирован, но как то регистрируется повторно

**-3** - Пользователь ввел данные в неправильном формате, которые прошли валидацию
